{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
    <div class="container mt-4">
        <div class="row">
            <div class="col-12 account-card text-center">
                <h1 class="m-0 pt-2">{{ account.name }}</h1>
                <p class="mb-0"><small class="text-muted">{{ account.nickname }}</small></p> 
                <p class="mb-0"><small class="text-muted">Inscrit depuis le {{ account.createdAt|date("m F Y") }}</small></p> 
                <hr>
                <div class="row mt-4">
                    {% for library in account.libraries %}
                        <div class="col-6 col-sm-6 col-md-4 col-lg-3 account-library mb-4">
                            <a href="{{path('app_one_game', {'slug': library.game.slug })}}">
                                <div class="container-image">
                                    <img src="{{library.game.thumbnailCover}}" alt="{{library.game.name}}">
                                    <div class="container-installed">
                                        <i class="fa-solid fa-circle {% if library.installed == true %}green{% else %}red{% endif %}"></i>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">{{library.timeConverter}}</p>
                                    <p class="mb-0">{{library.lastUsedAt|date('m F Y')}}</p>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
                <hr class="mt-0">
                <div class="row comment-section">
                    {% for comment in account.comments %}
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 mb-4">
                            <div class="cardcomment">
                                <div class="ps-3 py-3">
                                    <div class="d-flex align-middle justify-content-between pe-4">
                                        <p>Le {{ comment.createdAt|date("m F Y")}}</p>
                                        <div class="d-flex">
                                            <p><i class="fa-solid fa-circle-up green"></i></p>
                                            <p>{{ comment.upVotes }}</p>
                                            <p><i class="fa-solid fa-circle-down red ms-2"></i></p>
                                            <p>{{ comment.downVotes }}</p>
                                        </div>
                                    </div>
                                    <p class="pe-2">{{ comment.content  }}</p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>    
    </div>
{% endblock %}
