{% extends 'base-admin.html.twig' %}

{% block title %}Admin : {{ publisher.name }}{% endblock %}

{% block body %}
    <div class="container my-4">
        <nav class="m-2" aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ path('app_home') }}">Accueil</a></li>
                <li class="breadcrumb-item"><a href="{{ path('app_admin_publisher') }}">Tout les éditeurs</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{ publisher.name }}</li>
            </ol>
        </nav>
        <div class="my-4">
            <h2 class="mb-3">{{publisher.name}}</h2>
            <a class="btn btn-sm btn-outline-light mb-3 mt-2 " href="{{ path('app_admin_publisher_modify', {'slug': publisher.slug})}}"><i class="orange fa-solid fa-pencil"></i></a>
            <a class="btn btn-sm btn-outline-light mb-3 mt-2 " href="" data-bs-toggle="modal" data-bs-target="#exampleModal{{publisher.id}}"><i class="red fa-solid fa-trash-can"></i></a>
        </div>
        {% if publisher.games|length != 0 %}
            <table class="table table-dark table-hover table-striped border border-light border-2">
                <thead>
                    <tr>
                        <th scope="col col-2">Nom</th>
                        <th scope="col col-2">Prix</th>
                    </tr>
                </thead>
                <tbody>
                    {% for game in publisher.games %}
                    <tr>
                        <th>{{ game.name }}</th>
                        <th>{{ game.price }}€</th>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Aucun jeu...</p>
        {% endif %}
    </div>

    <div class="modal fade" id="exampleModal{{publisher.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Suppression</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Êtes vous sûr de vouloir supprimer {{publisher.name}} ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Non</button>
                <a href="{{ path('app_admin_publisher_delete', {'id': publisher.id}) }}" class="btn btn-primary">Supprimer !</a>
            </div>
            </div>
        </div>
    </div>

{% endblock %}